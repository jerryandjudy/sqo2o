<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>店铺角色修改页  - ${web.name}${web.additionalTitle!}</title>
<link href="${root}/u/css/global.css" type="text/css" rel="stylesheet" />
<link href="${root}/u/css/layout.css" type="text/css" rel="stylesheet" />
<link href="${root}/u/css/memeber.css" type="text/css" rel="stylesheet" />
<link href="${root}/u/css/buy.css" type="text/css" rel="stylesheet" />
<script src="${sysResRoot}/jquery.js" type="text/javascript"></script>
<script src="${base}/thirdparty/My97DatePicker/WdatePicker.js" type="text/javascript"></script>
<script type="text/javascript">
var perms = [[#list role.perms as p]"${p}"[#if p_has_next],[/#if][/#list]];
function disablePerms() {
	if($("input[name=super]:checked").val()=="true") {
		$(".perm-container input[type=checkbox]").attr("disabled","disabeld");
	} else {
		$(".perm-container input[type=checkbox]").removeAttr("disabled");
	}
}
$(function() {
	disablePerms();
	$("#jvForm").validate();
	$(".perm-container input[type=checkbox]").each(function() {
		var perm = $(this).val();
		var index = perm.indexOf(",");		
		if(index!=-1) {
			perm = perm.substring(0,index);
		}
		for(var i=0,len=perms.length;i<len;i++) {
			if(perms[i]==perm) {
				$(this).attr("checked",true);
				break;
			}
		}
	});
	$("input[name=super]").bind("click",function(){
		disablePerms();
	});
});
</script>
<style type="text/css">
.perm-container{}
.perm-layout-1{padding:3px 0;}
.perm-layout-2{padding-left:30px;}
</style>
</head>
<body>
[#include "../include/店铺页头顶栏.html"/]
<div id="head">
	 [#include "../include/页头搜索栏.html"/]
     [#include "../include/页头导航栏.html"/]
</div>
<div class="w960 mt10">
  [#include "店铺中心_导航.html"/]
  <div class="user_right" style="height:1150px;">
       <div class="mc_content">
	    <div class="usercenter_position"><span>店铺角色管理</span>
	    <form class="ropt">
		 		 <input type="submit" value="返回列表" onclick="this.form.action='list.jspx?pageNo=${pageNo}';"/>
     	</form>    
        <div class="right_line">
          <form method="post" action="update.jspx" id="jvForm">
            <table width="100%" cellpadding="2" cellspacing="1" border="0">
              <tr><td width="20%"><span>*</span>名称:</td>
                  <td width="80%"><input type="text" name="name" value="${role.name!}" class="required" size="40" maxlength="150"/></td>
               </tr>
            <tr>
              <td width="20%"><span>*</span>排列顺序:</td>
              <td width="80%">
               <input type="text" name="priority" value="${role.priority}" class="required digits" size="7" maxlength="10"/></td>
            </tr>
            <tr>
              <td width="20%"><span>*</span>拥有所有权限:</td>
              <td width="80%">
                 <label><input type="radio" name="super" value="true"  [#if role.super]checked="checked"[/#if]/>是</label>
                 <label><input type="radio" name="super" value="false" [#if !role.super]checked="checked"[/#if]/>否</label></td>
            </tr>
            <tr>
              <td width="20%">功能权限:</td>
              <td width="80%">[#include "店铺角色权限页.html"/]</td>
           </tr>
          <tr><td colspan="2" align="center">
                 <input type="hidden" name="id" value="${role.id}"/>
                 <input type="hidden" name="storeId" value="${role.store.id}"/>
	             <input type="submit" value="提交"/> &nbsp; <input type="reset" value="重置"/>
            </td></tr>
                 </table>
              </form>
          </div>
       </div>
  </div>
</div>
</div>
 <div class="clear"></div>
[#include "../include/页脚信息栏.html"/]
</body>
</html>